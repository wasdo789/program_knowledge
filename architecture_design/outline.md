## 架构设计

### 分布式事务

定义
#### 2PC

原理过程、优缺点
缺点：数据不一致。占用资源，中心事务管理器单点故障

如何解决协调者和参与者之间的通信故障?
超时机制，心跳，预备性提交，备份协调者，消息队列

### 系统性能分析
### 高io分析
高io，或者说io密集型程序判断。使用top 命令查看cpu的wa指标，表示等待io的占比。或者使用系统分析工具 iostat 看整体io负载
然后找到对应的的程序，使用iotop或者pidstat 看最高io 的进程。使用进程号和lsof可以找到所有打开的文件，分析最有可能的文件，一般是较大的文件。

dd 工具，用于测试磁盘读写速度。测试读速度时，从硬盘读取到/dev/null，因为写入到/dev/null不占用io。
测试写速度时，从/dev/zero 写入到硬盘中，因为从/dev/zero 读数据不占用io

